---
# Ergatis Component Documentation
# Extracted from source by extract_component_docs.pl
# Source: TIGR/JCVI/IGS Ergatis bioinformatics workflow system
#
# This file preserves ALL documentation, comments, parameter descriptions,
# and structural details from the original Ergatis source files.

component: obo2chado
extracted_at: "2026-02-19T15:34:47"
source_files:
  - obo2chado.config
  - obo2chado.xml
  - workflow/obo2chado-master.ini
  - workflow/obo2chado.ini
  - workflow/obo2chadoconf.ini

# Configuration file - all sections, parameters, defaults, and inline comments
config:
  interface:
    classification: database / manipulation
  parameters:
    USERNAME: ""
    PASSWORD: ""
    SERVER: ""
    DATABASE: ""
    # sybase or postgresql
    DATABASE_TYPE: sybase
    # The NAMESPACE value will be passed to the OBO loader's respect_namespace parameter 
    # i.e. obov1p2tochado.pl --respect_namespace.  The OBO loader's default behavior is 
    # to always apply the default-namespace that is provided at the head of the .obo files.
    # If the user wants the individual Term stanza namespace values to override the 
    # default-namespace value, NAMESPACE should be set to 1.
    NAMESPACE: 0
    BATCHSIZE: 30000
  input:
    INPUT_FILE_LIST: ""
    INPUT_FILE: ""
    INPUT_DIRECTORY: ""
    # the following is only used when iterating over an INPUT_DIRECTORY
    INPUT_EXTENSION: obo
  output:
    OUTPUT_TOKEN: default
    OUTPUT_DIRECTORY: $;TMP_DIR$;
  component:
    COMPONENT_NAME: obo2chado
    DESCRIPTION: none
    WORKFLOW_REPOSITORY: $;REPOSITORY_ROOT$;/workflow/runtime/$;COMPONENT_NAME$;/$;PIPELINEID$;_$;OUTPUT_TOKEN$;
    PIPELINE_TOKEN: unnamed
    # The version,revision,tag here is set by an interpolated CVS tag
    VERSION: 2.0
    RELEASE_TAG: $Name$
    REVISION: $Revision$
    TEMPLATE_XML: $;DOCS_DIR$;/$;COMPONENT_NAME$;.xml
    # Iterator for processing and loading all OBO files
    ITERATOR1: obo
    ITERATOR1_XML: $;DOCS_DIR$;/$;COMPONENT_NAME$;.$;ITERATOR1$;.xml
    # Distributed options
    GROUP_COUNT: 1
    # no-distrib = 0 ensures that all executes in series and never parallel
    NODISTRIB: 0
    # the following keys are replaced at runtime by the invocation script
    COMPONENT_CONFIG: ""
    COMPONENT_XML: ""
    PIPELINE_XML: ""
    PIPELINEID: ""
  include:
    PROJECT_CONFIG: ""

# Main workflow XML template - step definitions
workflow_xml:
  xml_comments:
    - Preprocessing
    - Iterator1 for processing all obo files
  command_sets:
    - initdb workflow
  includes:
    - "file=\"$;DOCS_DIR$;/file_iterator_template.xml\" keys=\"$;ITERATOR_NAME$;=ITERATOR1,$;ITERATOR_XML$;=ITERATOR1_XML,$;NODISTRIB$;=1\"/"
  steps:
    - name: create output directory
      type: RunUnixCommand
      executable: mkdir
      arg: -p -m 777 $;OUTPUT_DIRECTORY$;
    - name: create temp directory
      type: RunUnixCommand
      executable: mkdir
      arg: -p -m 777 $;TMP_DIR$;

# Workflow INI: obo2chado-master.ini
workflow_ini_obo2chado-master.ini:
  create_compute_output:
    # make the output directory
    param.command: mkdir
    arg: -p -m 777 $;OUTPUT_DIRECTORY$;
  create_compute_scratch:
    # make the new scratch directory
    param.command: mkdir
    arg: -p -m 777 $;TMP_DIR$;
  create_groups_subflow1:
    param.command: $;BIN_DIR$;/generate_groups
    param.output_dir: $;WORKFLOW_REPOSITORY$;
    param.prefix: subflow1groups
    param.group_count: $;GROUP_COUNT$;
    param.file: $;WORKFLOW_REPOSITORY$;/subflow1.list
  create_iterative_subflow1:
    # create iterative subflow
    param.command: $;BIN_DIR$;/generate_subflow
    # workflow doc information
    param.template: $;WORKFLOWDOCS_DIR$;/groups-iterator_template.xml
    param.inifile: $;WORKFLOWDOCS_DIR$;/groups-iterator.ini
    param.iteratortemplate: $;WORKFLOWDOCS_DIR$;/batch-paralleliterator_template.xml
    param.iteratorini: $;WORKFLOWDOCS_DIR$;/batch-iterator.ini
    param.iteratorlist: $;WORKFLOW_REPOSITORY$;/subflow1groups.list
    param.conf: $;COMPONENT_CONFIG$;
    param.wfname: $;NAME$;
    param.nodistrib: $;NODISTRIB$;
    # output information
    param.outputdir: $;WORKFLOW_REPOSITORY$;
    param.outputxml: $;WORKFLOW_REPOSITORY$;/groups.xml
    param.debug: $;DEBUG$;
  create_iterator_list_subflow1:
    param.command: $;BIN_DIR$;/generate_input_list
    param.filelist: "'$;INPUT_FILE_LIST$;'"
    param.file: "'$;INPUT_FILE$;'"
    param.directory: "'$;INPUT_DIRECTORY$;'"
    param.extension: "'$;INPUT_EXTENSION$;'"
    param.output: $;WORKFLOW_REPOSITORY$;/subflow1.list
  empty:
  subflow1:
    fileName: $;WORKFLOW_REPOSITORY$;/groups.xml

# Workflow INI: obo2chado.ini
workflow_ini_obo2chado.ini:
  create_ir_scratch:
    # make the scratch space
    param.command: mkdir
    arg: -p -m 777 $;TMP_DIR$;/$;ITER_FILE_BASE$;/ir
  create_ro_scratch:
    # make the scratch space
    param.command: mkdir
    arg: -p -m 777 $;TMP_DIR$;/$;ITER_FILE_BASE$;/ro
  empty:
    # first --ignore_relationships (ir) then --relationships_only (ro)
  load_ir_onto:
    param.command: $;BIN_DIR$;/chadoloader
    param.--username: chado_admin
    param.--password: chado_admin99
    param.--database: $;DATABASE$;
    param.--server: $;SERVER$;
    param.--bcpmode: in
    param.--batchsize: 3000
    param.--logfile: $;WORKFLOW_REPOSITORY$;/chadoloader.$;ITER_FILE_BASE$;.ir.log
    param.--directory: $;TMP_DIR$;/$;ITER_FILE_BASE$;/ir
    param.stdout: $;WORKFLOW_REPOSITORY$;/chadoloader.$;ITER_FILE_BASE$;.ir.stats
    param.stderr: $;WORKFLOW_REPOSITORY$;/chadoloader.$;ITER_FILE_BASE$;.ir.stderr
    param.--abort: 1
    param.--debug_level: $;DEBUG$;
  load_ro_onto:
    param.command: $;BIN_DIR$;/chadoloader
    param.--username: chado_admin
    param.--password: chado_admin99
    param.--database: $;DATABASE$;
    param.--server: $;SERVER$;
    param.--bcpmode: in
    param.--batchsize: 3000
    param.--logfile: $;WORKFLOW_REPOSITORY$;/chadoloader.$;ITER_FILE_BASE$;.ro.log
    param.--directory: $;TMP_DIR$;/$;ITER_FILE_BASE$;/ro
    param.stdout: $;WORKFLOW_REPOSITORY$;/chadoloader.$;ITER_FILE_BASE$;.ro.stats
    param.stderr: $;WORKFLOW_REPOSITORY$;/chadoloader.$;ITER_FILE_BASE$;.ro.stderr
    param.--abort: 1
    param.--debug_level: $;DEBUG$;
  obo_term_count:
    param.command: $;BIN_DIR$;/obo_term_count
    arg: $;ITER_FILE_PATH$;
    param.stdout: $;WORKFLOW_REPOSITORY$;/obo_term_count.$;ITER_FILE_BASE$;.out
  parse_ir_onto:
    param.command: $;BIN_DIR$;/obo2chado
    param.--username: chado_admin
    param.--password: chado_admin99
    param.--database: $;DATABASE$;
    param.--server: $;SERVER$;
    param.--ontdoc: $;ITER_FILE_PATH$;
    param.--log4perl: $;WORKFLOW_REPOSITORY$;/obo2chado.$;ITER_FILE_BASE$;.ir.log
    param.--debug_level: $;DEBUG$;
    param.--outdir: $;TMP_DIR$;/$;ITER_FILE_BASE$;/ir
    param.--cache_dir: $;TMP_DIR$;/$;ITER_FILE_BASE$;/ir
    arg: --ignore-relationships
    param.stdout: $;TMP_DIR$;/obo2chado.$;ITER_FILE_BASE$;.ir.stdout
    param.stderr: $;TMP_DIR$;/obo2chado.$;ITER_FILE_BASE$;.ir.stderr
  parse_ro_onto:
    param.command: $;BIN_DIR$;/obo2chado
    param.--username: chado_admin
    param.--password: chado_admin99
    param.--database: $;DATABASE$;
    param.--server: $;SERVER$;
    param.--ontdoc: $;ITER_FILE_PATH$;
    param.--log4perl: $;WORKFLOW_REPOSITORY$;/obo2chado.$;ITER_FILE_BASE$;.ro.log
    param.--debug_level: $;DEBUG$;
    param.--outdir: $;TMP_DIR$;/$;ITER_FILE_BASE$;/ro
    param.--cache_dir: $;TMP_DIR$;/$;ITER_FILE_BASE$;/ro
    arg: --relationships-only
    param.stdout: $;TMP_DIR$;/obo2chado.$;ITER_FILE_BASE$;.ro.stdout
    param.stderr: $;TMP_DIR$;/obo2chado.$;ITER_FILE_BASE$;.ro.stderr

# Workflow INI: obo2chadoconf.ini
workflow_ini_obo2chadoconf.ini:
  _header:
    # configuration file for the obo2chado workflow
  include obo2chado:
    $;SHARED_CONFIG$;: ""
  input obo2chado:
    $;INPUT_FILE_LIST$;: ""
    $;INPUT_FILE$;: ""
    $;INPUT_DIRECTORY$;: ""
    # the following is only used when iterating over an INPUT_DIRECTORY
    $;INPUT_EXTENSION$;: obo
  output obo2chado:
    $;OUTPUT_TOKEN$;: default
    $;OUTPUT_DIRECTORY$;: $;REPOSITORY_ROOT$;/output_repository/$;NAME$;/$;PIPELINEID$;_$;OUTPUT_TOKEN$;
  parameters obo2chado:
    $;SERVER$;: ""
  workflowdocs obo2chado:
    $;VERSION$;: 1.0
    $;REVISION$;: $Revision$
    $;TAG$;: $Name$
    $;NAME$;: obo2chado
    $;MASTER_TEMPLATE_INI$;: $;WORKFLOWDOCS_DIR$;/obo2chado-master.ini
    $;MASTER_TEMPLATE_XML$;: $;WORKFLOWDOCS_DIR$;/obo2chado-master_template.xml
    $;TEMPLATE_INI$;: $;WORKFLOWDOCS_DIR$;/obo2chado.ini
    $;TEMPLATE_XML$;: $;WORKFLOWDOCS_DIR$;/obo2chado_template.xml
    $;WORKFLOW_REPOSITORY$;: $;REPOSITORY_ROOT$;/Workflow/$;NAME$;/$;PIPELINEID$;_$;OUTPUT_TOKEN$;
    # force serial (two-pass) execution
    # -no_modify
    $;GROUP_COUNT$;: 1
    # the following keys are replaced at runtime by the invocation script
    $;COMPONENT_CONFIG$;: ""
    $;NODISTRIB$;: 0
